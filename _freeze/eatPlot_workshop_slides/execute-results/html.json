{
  "hash": "2bc17717ed99a7dfdc1d83808d263a3a",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Einführung in eatPlot\"\nauthor: \"Nicklas Hafiz\"\ntitle-slide-attributes:\n  data-background-image: ./images/eatPlot.svg\n  data-background-size: 30%\n  data-background-repeat: no-repeat\n  data-background-position: bottom 30px center\n  data-background-opacity: \"0\"\nformat: \n  letterbox-revealjs:\n    embed-resources: false\n    theme: styles.scss\n    highlight-style: dark.theme\n    code-link: true\n    code-line-numbers: false\nexecute:\n  echo: true\ncallout-appearance: simple\nlang: de\ncategories: [eatPlot, tutorial, slides, intro]\nimage: ./images/eatPlot.svg\n---\n\n\n\n## Zu diesen Folien\n\nHTML-Folien können durch tippen von `e` in PDF umgewandelt werden, und dann mit Drucken aus dem Browser abgespeichert werden, falls ihr darin kommentieren wollt.\n\n![](./images/print_html.PNG)\n\n##  {background-image=\"images/map.jpg\" background-size=\"1225px\"}\n\n::: {.absolute left=\"10%\" right=\"10%\" top=\"7.5%\" style=\"font-size:1em; padding: 0.5em 0.5em; background-color: rgba(255, 255, 255, .7); backdrop-filter: blur(5px); box-shadow: 0 0 1rem 0 rgba(255, 255, 255, .5); border-radius: 10px\"}\n\n**Roadmap**\n\n1. Einführung\n1. Allgemeiner Workflow\n1. Linienplots\n1. Tabellen/Barplots\n:::\n\n## eatPlot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"devtools\")\ndevtools::install_github(\"nickhaf/eatPlot\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(eatPlot)\n```\n:::\n\n\n\n\n- Automatisieren der Grafikerstellung für eatRep-Output\n- BT-Grafiken!\n\n:::{.callout-important}\nDas Paket befindet sich noch in Entwicklung. Falls euch Bugs auffallen, bitte Melden! Ich kümmere mich schnellstmöglich drum. \n:::\n\n\n## Vorteile\n\n- Schneller Zugang zu komplexen BT-Visualisierungen und Tabellen\n- Vereinheitlichung der BT-Plots\n- Leichtes Updaten bei Änderungen in den Plots und/oder Daten\n- Nachvollziehbarkeit/Version Control\n- Weniger Checks nötig, da Werte automatisch eingelesen werden\n\n## Nachteile\n\n- Gerade zu Beginn etwas mehr Arbeit für Kapitelautor*innen \n  - Aber: \"Plug-and-Play\"-Vorlagen, weniger Überarbeitungsschleifen und Kontrollen\n\n## Vorlagen\n\nVignetten, Tutorials sowie Vorlagen zur Erstellung finden sich auf der [Webseite](https://nickhaf.github.io/eatPlot/)\n\n\n\n# Allgemeiner Workflow\n\n## Datenformat\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(trend_3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nList of 4\n $ plain      :'data.frame':\t6642 obs. of  18 variables:\n  ..$ label1       : chr [1:6642] \"aohneZWH_total for year 2009\" \"aohneZWH_total for year 2009\" \"aohneZWH_total for year 2009\" \"aohneZWH_Baden-Wuerttemberg for year 2009\" ...\n  ..$ label2       : chr [1:6642] \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=Baden-Wuerttemberg\" ...\n  ..$ depVar       : chr [1:6642] \"bista\" \"bista\" \"bista\" \"bista\" ...\n  ..$ modus        : chr [1:6642] \"CONV.mean\" \"CONV.mean\" \"CONV.mean\" \"CONV.mean\" ...\n  ..$ comparison   : chr [1:6642] \"none\" \"none\" \"none\" \"none\" ...\n  ..$ parameter    : chr [1:6642] \"mean\" \"Ncases\" \"sd\" \"mean\" ...\n  ..$ mhg          : chr [1:6642] \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n  ..$ TR_BUNDESLAND: chr [1:6642] \"total\" \"total\" \"total\" \"Baden-Wuerttemberg\" ...\n  ..$ kb           : chr [1:6642] \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n  ..$ spf          : chr [1:6642] \"alle\" \"alle\" \"alle\" \"alle\" ...\n  ..$ year         : chr [1:6642] \"2009\" \"2009\" \"2009\" \"2009\" ...\n  ..$ es           : num [1:6642] NA NA NA NA NA NA NA NA NA NA ...\n  ..$ est          : num [1:6642] 533.4 23722 81.8 543.3 1507 ...\n  ..$ p            : num [1:6642] 0 NA NA 0 NA NA 0 NA NA 0 ...\n  ..$ se           : num [1:6642] 0.797 NA NA 2.668 NA ...\n  ..$ id           : chr [1:6642] \"group_1883\" \"group_1883\" \"group_1883\" \"group_1887\" ...\n  ..$ unit_1       : chr [1:6642] NA NA NA NA ...\n  ..$ unit_2       : chr [1:6642] NA NA NA NA ...\n $ comparisons:'data.frame':\t3852 obs. of  4 variables:\n  ..$ id        : chr [1:3852] \"comp_1\" \"comp_2\" \"comp_3\" \"comp_4\" ...\n  ..$ unit_1    : chr [1:3852] \"group_1883\" \"group_1883\" \"group_1887\" \"group_1887\" ...\n  ..$ unit_2    : chr [1:3852] \"group_2667\" \"group_1887\" \"group_1983\" \"group_2667\" ...\n  ..$ comparison: chr [1:3852] \"crossDiff\" \"crossDiff\" \"crossDiff\" \"crossDiff\" ...\n $ group      :'data.frame':\t306 obs. of  6 variables:\n  ..$ id           : chr [1:306] \"group_1883\" \"group_1887\" \"group_1893\" \"group_1899\" ...\n  ..$ mhg          : chr [1:306] \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n  ..$ TR_BUNDESLAND: chr [1:306] \"total\" \"Baden-Wuerttemberg\" \"Bayern\" \"Berlin\" ...\n  ..$ year         : chr [1:306] \"2009\" \"2009\" \"2009\" \"2009\" ...\n  ..$ kb           : chr [1:306] \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n  ..$ spf          : chr [1:306] \"alle\" \"alle\" \"alle\" \"alle\" ...\n $ estimate   :'data.frame':\t6642 obs. of  7 variables:\n  ..$ id       : chr [1:6642] \"group_1883\" \"group_1883\" \"group_1883\" \"group_1887\" ...\n  ..$ depVar   : chr [1:6642] \"bista\" \"bista\" \"bista\" \"bista\" ...\n  ..$ parameter: chr [1:6642] \"mean\" \"Ncases\" \"sd\" \"mean\" ...\n  ..$ est      : num [1:6642] 533.4 23722 81.8 543.3 1507 ...\n  ..$ se       : num [1:6642] 0.797 NA NA 2.668 NA ...\n  ..$ p        : num [1:6642] 0 NA NA 0 NA NA 0 NA NA 0 ...\n  ..$ es       : num [1:6642] NA NA NA NA NA NA NA NA NA NA ...\n```\n\n\n:::\n:::\n\n\n\n\n## Datenaufbereitung\n\nEs gibt zwei Prep-Funktionen:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlineplot_prepped <- prep_lineplot(trend_3, subgroup_var = \"mhg\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntableplot_prepped <- prep_tablebarplot(trend_3, subgroup_var = \"mhg\")\n```\n:::\n\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(lineplot_prepped)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t612 obs. of  50 variables:\n $ unit                                             : chr  \"group_1883\" \"group_1883\" \"group_1887\" \"group_1887\" ...\n $ mhg                                              : chr  \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n $ TR_BUNDESLAND                                    : chr  \"total\" \"total\" \"Baden-Wuerttemberg\" \"Baden-Wuerttemberg\" ...\n $ year                                             : num  2009 2009 2009 2009 2009 ...\n $ kb                                               : chr  \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n $ spf                                              : chr  \"alle\" \"alle\" \"alle\" \"alle\" ...\n $ subgroup_var                                     : chr  \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n $ depVar                                           : chr  \"bista\" \"bista\" \"bista\" \"bista\" ...\n $ parameter                                        : chr  \"mean\" \"mean\" \"mean\" \"mean\" ...\n $ trend                                            : chr  \"2009_2022\" \"2009_2015\" \"2009_2022\" \"2009_2015\" ...\n $ es_comparison_crossDiff_subgroupTotal            : num  NA NA 0.243 0.243 0.224 0.224 0.395 0.395 0.05 0.05 ...\n $ es_comparison_crossDiffTotal                     : num  NA NA 0.121 0.121 0.166 0.166 -0.118 -0.118 -0.39 -0.39 ...\n $ es_comparison_crossDiffTotal_subgroupTotal       : num  NA NA 0.346 0.346 0.396 0.396 0.109 0.109 -0.154 -0.154 ...\n $ es_comparison_none                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_comparison_trend                              : num  -0.445 -0.126 -0.373 -0.229 -0.513 -0.173 -0.352 0.022 -0.446 0.139 ...\n $ es_comparison_trend_crossDiff_subgroupTotal      : num  NA NA 2.406 1.041 0.593 ...\n $ es_comparison_trend_crossDiffTotal               : num  NA NA 0.92 -2.605 -0.824 ...\n $ es_comparison_trend_crossDiffTotal_subgroupTotal : num  NA NA 4.068 -1.303 0.852 ...\n $ est_comparison_crossDiff_subgroupTotal           : num  NA NA 20.7 20.7 18.2 ...\n $ est_comparison_crossDiffTotal                    : num  NA NA 9.93 9.93 13.26 ...\n $ est_comparison_crossDiffTotal_subgroupTotal      : num  NA NA 29.6 29.6 33 ...\n $ est_comparison_none                              : num  533 533 543 543 547 ...\n $ est_comparison_trend                             : num  -41.7 -10.9 -36.6 -20.4 -45.6 ...\n $ est_comparison_trend_crossDiff_subgroupTotal     : num  NA NA 21.8 14.09 5.47 ...\n $ est_comparison_trend_crossDiffTotal              : num  NA NA 5.03 -9.53 -3.94 ...\n $ est_comparison_trend_crossDiffTotal_subgroupTotal: num  NA NA 21.35 -6.73 12.38 ...\n $ p_comparison_crossDiff_subgroupTotal             : num  NA NA 0 0 0 0 0 0 0.16 0.16 ...\n $ p_comparison_crossDiffTotal                      : num  NA NA 0 0 0 0 0.001 0.001 0 0 ...\n $ p_comparison_crossDiffTotal_subgroupTotal        : num  NA NA 0 0 0 0 0.001 0.001 0 0 ...\n $ p_comparison_none                                : num  0 0 0 0 0 0 0 0 0 0 ...\n $ p_comparison_trend                               : num  0 0 0 0 0 0.001 0 0.695 0 0.004 ...\n $ p_comparison_trend_crossDiff_subgroupTotal       : num  NA NA 0.004 0.025 0.432 0.957 0.05 0.143 0.501 0.791 ...\n $ p_comparison_trend_crossDiffTotal                : num  NA NA 0.459 0.061 0.53 0.472 0.397 0.016 0.888 0 ...\n $ p_comparison_trend_crossDiffTotal_subgroupTotal  : num  NA NA 0.002 0.183 0.047 0.91 0.001 0.003 0.014 0 ...\n $ se_comparison_crossDiff_subgroupTotal            : num  NA NA 3.54 3.54 2.77 ...\n $ se_comparison_crossDiffTotal                     : num  NA NA 2.79 2.79 2.25 ...\n $ se_comparison_crossDiffTotal_subgroupTotal       : num  NA NA 2.76 2.76 2.22 ...\n $ se_comparison_none                               : num  0.797 0.797 2.668 2.668 2.099 ...\n $ se_comparison_trend                              : num  4.94 3.07 6.65 4.92 6.13 ...\n $ se_comparison_trend_crossDiff_subgroupTotal      : num  NA NA 7.65 6.26 6.97 ...\n $ se_comparison_trend_crossDiffTotal               : num  NA NA 6.78 5.08 6.27 ...\n $ se_comparison_trend_crossDiffTotal_subgroupTotal : num  NA NA 6.75 5.06 6.24 ...\n $ sig_comparison_crossDiff_subgroupTotal           : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_crossDiffTotal                    : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_crossDiffTotal_subgroupTotal      : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_none                              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_trend                             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_trend_crossDiff_subgroupTotal     : logi  FALSE FALSE TRUE TRUE FALSE FALSE ...\n $ sig_comparison_trend_crossDiffTotal              : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ sig_comparison_trend_crossDiffTotal_subgroupTotal: logi  FALSE FALSE TRUE FALSE TRUE FALSE ...\n```\n\n\n:::\n:::\n\n\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(tableplot_prepped)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t357 obs. of  154 variables:\n $ depVar                                                : chr  \"bista\" \"bista\" \"bista\" \"bista\" ...\n $ mhg                                                   : chr  \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n $ TR_BUNDESLAND                                         : chr  \"total\" \"Baden-Wuerttemberg\" \"Bayern\" \"Berlin\" ...\n $ est_2009_none_mean                                    : num  533 543 547 523 500 ...\n $ est_2015_none_mean                                    : num  522 523 532 525 513 ...\n $ est_2022_none_mean                                    : num  492 507 501 487 458 ...\n $ est_2015 - 2009_trend_mean                            : num  -10.91 -20.44 -14.23 2.04 12.82 ...\n $ est_2022 - 2009_trend_mean                            : num  -41.7 -36.6 -45.6 -35.9 -42.5 ...\n $ est_2022 - 2015_trend_mean                            : num  -30.7 -16.2 -31.4 -38 -55.4 ...\n $ est_2009_crossDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015_crossDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022_crossDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015 - 2009_trend_crossDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2009_trend_crossDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2015_trend_crossDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2009_crossDiffTotal_mean                          : num  NA 9.93 13.26 -10.07 -33.31 ...\n $ est_2015_crossDiffTotal_mean                          : num  NA 0.4 9.94 2.88 -9.57 ...\n $ est_2022_crossDiffTotal_mean                          : num  NA 14.96 9.32 -4.34 -34.2 ...\n $ est_2015 - 2009_trend_crossDiffTotal_mean             : num  NA -9.53 -3.32 12.95 23.74 ...\n $ est_2022 - 2009_trend_crossDiffTotal_mean             : num  NA 5.025 -3.941 5.724 -0.892 ...\n $ est_2022 - 2015_trend_crossDiffTotal_mean             : num  NA 14.557 -0.618 -7.23 -24.628 ...\n $ est_2009_groupDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015_groupDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022_groupDiff_mean                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015 - 2009_trend_groupDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2009_trend_groupDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2015_trend_groupDiff_mean                  : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2009_crossDiff_of_groupDiffTotal_mean             : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015_crossDiff_of_groupDiffTotal_mean             : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022_crossDiff_of_groupDiffTotal_mean             : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015 - 2009_trend_crossDiff_of_groupDiffTotal_mean: num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2009_trend_crossDiff_of_groupDiffTotal_mean: num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022 - 2015_trend_crossDiff_of_groupDiffTotal_mean: num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2009_none_mean                                     : num  0.797 2.668 2.099 2.883 2.308 ...\n $ se_2015_none_mean                                     : num  0.992 3.04 2.733 3.322 2.549 ...\n $ se_2022_none_mean                                     : num  1.06 3.8 3.24 3.6 3.17 ...\n $ se_2015 - 2009_trend_mean                             : num  3.07 4.92 4.44 5.21 4.43 ...\n $ se_2022 - 2009_trend_mean                             : num  4.94 6.65 6.13 6.63 6.17 ...\n $ se_2022 - 2015_trend_mean                             : num  4.12 6.21 5.73 6.24 5.61 ...\n $ se_2009_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015 - 2009_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2009_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2015_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2009_crossDiffTotal_mean                           : num  NA 2.79 2.25 2.99 2.44 ...\n $ se_2015_crossDiffTotal_mean                           : num  NA 3.2 2.91 3.47 2.73 ...\n $ se_2022_crossDiffTotal_mean                           : num  NA 3.94 3.41 3.76 3.35 ...\n $ se_2015 - 2009_trend_crossDiffTotal_mean              : num  NA 5.08 4.62 5.36 4.61 ...\n $ se_2022 - 2009_trend_crossDiffTotal_mean              : num  NA 6.78 6.27 6.76 6.31 ...\n $ se_2022 - 2015_trend_crossDiffTotal_mean              : num  NA 6.38 5.91 6.4 5.79 ...\n $ se_2009_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015 - 2009_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2009_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2015_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2009_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015 - 2009_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2009_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022 - 2015_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2009_none_mean                                     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015_none_mean                                     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022_none_mean                                     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015 - 2009_trend_mean                             : num  -0.126 -0.229 -0.173 0.022 0.139 -0.118 0.052 -0.065 -0.102 -0.064 ...\n $ es_2022 - 2009_trend_mean                             : num  -0.445 -0.373 -0.513 -0.352 -0.446 -0.392 -0.032 -0.401 -0.527 -0.372 ...\n $ es_2022 - 2015_trend_mean                             : num  -0.315 -0.156 -0.338 -0.359 -0.562 -0.278 -0.077 -0.315 -0.417 -0.319 ...\n $ es_2009_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022_crossDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015 - 2009_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2009_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2015_trend_crossDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2009_crossDiffTotal_mean                           : num  NA 0.121 0.166 -0.118 -0.39 -0.236 0.117 -0.101 -0.24 -0.072 ...\n $ es_2015_crossDiffTotal_mean                           : num  NA 0.004 0.112 0.031 -0.103 -0.222 0.271 -0.027 -0.198 -0.005 ...\n $ es_2022_crossDiffTotal_mean                           : num  NA 0.138 0.092 -0.04 -0.333 -0.178 0.484 -0.027 -0.259 0.021 ...\n $ es_2015 - 2009_trend_crossDiffTotal_mean              : num  NA -2.605 -0.811 2.102 3.956 ...\n $ es_2022 - 2009_trend_crossDiffTotal_mean              : num  NA 0.92 -0.824 0.673 -0.172 ...\n $ es_2022 - 2015_trend_crossDiffTotal_mean              : num  NA 2.227 -0.13 -0.856 -6.307 ...\n $ es_2009_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022_groupDiff_mean                                : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015 - 2009_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2009_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2015_trend_groupDiff_mean                   : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2009_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022_crossDiff_of_groupDiffTotal_mean              : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015 - 2009_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2009_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022 - 2015_trend_crossDiff_of_groupDiffTotal_mean : num  NA NA NA NA NA NA NA NA NA NA ...\n $ sig_2009_none_mean                                    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_2015_none_mean                                    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_2022_none_mean                                    : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_2015 - 2009_trend_mean                            : logi  TRUE TRUE TRUE FALSE TRUE FALSE ...\n $ sig_2022 - 2009_trend_mean                            : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_2022 - 2015_trend_mean                            : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n  [list output truncated]\n```\n\n\n:::\n:::\n\n\n\n\n\n## Ploterstellung\n\n## Bonus: Plot_settings\n\n\n\n# Linienplots\n\n\n## Datenaufbereitung\n\n:::{.callout-warning}\n\nBitte lest die Daten aus dem `eatRep`-Workshop ein:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_dat <- readRDS(\"I:/Methoden/02_IQB-interne_eat_Workshops/eatRep_2024/Beispieloutputs/04_meansAufbereitet.rds\")\n```\n:::\n\n\n\n:::\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_p <- prep_lineplot(\n  trend_dat\n)\n\ntrend_p$TR_BUNDESLAND <- gsub(\"([a-z])([A-Z])\", \"\\\\1-\\\\2\", trend_p$TR_BUNDESLAND)\ntrend_p$TR_BUNDESLAND <- gsub(\"ue\", \"ü\", trend_p$TR_BUNDESLAND)\n```\n:::\n\n\n\n\n## Plot-Erstellung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlineplot_1_w <- plot_lineplot(\n  trend_p,\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  box_facet = \"Berlin\",\n  background_subgroup = \"total\",\n  title_superscripts = list(\n    \"Bayern\" = \"a\",\n    \"Thüringen\" = \"3\"),\n  plot_settings = plotsettings_lineplot(default_list = lineplot_4x4)\n)\n```\n:::\n\n\n\n## Abspeichern\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsave_plot(lineplot_1_w, filename = \"C:/Users/hafiznij/Downloads/lineplot_1_group_workshop.pdf\")\n```\n:::\n\n\n\n## Plot-Settings\n\n## Mehrere Kompetenzbereiche\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_my_lineplot <- function(plot_dat){\n\nlineplot_1_w <- plot_lineplot(\n  trend_p,\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  box_facet = \"Berlin\",\n  background_subgroup = \"total\",\n  title_superscripts = list(\n    \"Bayern\" = \"a\",\n    \"Thüringen\" = \"3\"),\n  plot_settings = plotsettings_lineplot(default_list = lineplot_4x4)\n)\n\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplots_6.6 <- lapply(eatRep_kb_list, plot_my_lineplot )\n```\n:::\n\n\n\n# Tabellen/Barplots\n\n## Datenaufbereitung\n:::{.callout-warning}\n\nBitte lest die Daten aus dem `eatRep`-Workshop ein:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_dat_geschlecht <- readRDS(\"I:/Methoden/02_IQB-interne_eat_Workshops/eatRep_2024/Beispieloutputs/disp_geschlecht.rds\")\n```\n:::\n\n\n\n:::\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmw_sub <- trend_mw\n\ndat_prepped <- prep_tablebarplot(\n  trend_dat_geschlecht,\n  subgroup_var = \"Kgender\",\n  par = c(\"mean\", \"sd\"),\n  facet_var = \"TR_BUNDESLAND\",\n  total_facet = \"total\",\n  comparisons = c(\"none\", \"trend\", \"trend_crossDiff\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_prepped <- subset(dat_prepped, Kgender %in% c(\"maennlich\", \"weiblich\"))\ndat_prepped$Kgender <- gsub(\"maennlich\", \"Jungen\", dat_prepped$Kgender)\ndat_prepped$Kgender <- gsub(\"weiblich\", \"Mädchen\", dat_prepped$Kgender)\n\ndat_prepped_a <- dat_prepped[order(dat_prepped$TR_BUNDESLAND), ]\n\ndat_prepped_a$TR_BUNDESLAND[duplicated(dat_prepped_a$TR_BUNDESLAND)] <- \" \"\ndat_prepped_a$TR_BUNDESLAND <- gsub(\"total\", \"Deutschland\", dat_prepped_a$TR_BUNDESLAND)\ndat_prepped_a$TR_BUNDESLAND <- gsub(\"ue\", \"ü\", dat_prepped_a$TR_BUNDESLAND)\n\n\ncolumn_widths_stand <- standardize_column_width(\n  column_widths = list(\n    p1 = c(0.1, rep(0.04, 7), 0.05, rep(0.04, 2), NA),\n    p2 = c(0.05, rep(0.04, 2), NA)\n  ),\n  plot_ranges = c(60, 45) # Range of the x-axes of both plots set in 'axis_x_lims'.\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np_1 <- plot_tablebarplot(\n  dat = dat_prepped_a,\n  bar_est = \"est_2015 - 2009_trend_mean\",\n  bar_label = NULL,\n  bar_sig = \"sig_2015 - 2009_trend_mean\",\n  bar_fill = \"Kgender\",\n  y_axis = \"y_axis\",\n  column_spanners = list(\n    \"**2009**<sup>a</sup>\" = c(3, 4),\n    \"**2015**<sup>a</sup>\" = c(5, 6),\n    \"**2022**<sup>a</sup>\" = c(7, 8),\n    \"**Differenz 2015-2009<sup>a</sup>**\" = c(9, 12)\n  ),\n  columns_table_se = list(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, \"se_2015 - 2009_trend_mean\", NULL),\n  headers = list(\n    \"**Land**\",\n    \" \",\n    \"*M*\",\n    \"*SD*\",\n    \"*M*\",\n    \"*SD*\",\n    \"*M*\",\n    \"*SD*\",\n    \"*M<sub>2015</sub> - M<sub>2009</sub>*\",\n    \"*(SE)*\",\n    \"*d*\",\n    \" \"\n  ),\n  columns_table = c(\n    \"TR_BUNDESLAND\",\n    \"Kgender\",\n    \"est_2009_none_mean\",\n    \"est_2009_none_sd\",\n    \"est_2015_none_mean\",\n    \"est_2015_none_sd\",\n    \"est_2022_none_mean\",\n    \"est_2022_none_sd\",\n    \"est_2015 - 2009_trend_mean\",\n    \"se_2015 - 2009_trend_mean\",\n    \"es_2015 - 2009_trend_mean\"\n  ),\n  columns_table_sig_bold = list(\n    NULL,\n    NULL,\n    \"sig_2009_none_mean\",\n    NULL,\n    \"sig_2015_none_mean\",\n    NULL,\n    \"sig_2022_none_mean\",\n    NULL,\n    \"sig_2015 - 2009_trend_mean\",\n    NULL,\n    \"sig_2015 - 2009_trend_mean\"\n  ),\n  columns_table_sig_superscript = list(\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    \"sig_2015 - 2009_trend_crossDiffTotal_mean\",\n    NULL,\n    NULL\n  ),\n  columns_round = c(rep(0, 10), 2),\n  plot_settings = plotsettings_tablebarplot(\n    axis_x_lims = c(-30, 30),\n    background_stripes_colour = c(rep(c(\"white\", \"white\", \"#EBFDF3\", \"#EBFDF3\"), 8), \"grey\", \"grey\"),\n    bar_fill_colour = c(\"#20D479\", \"#8DEBBC\"),\n    bar_background_lines = \"scale_breaks\",\n    bar_background_lines_linetype = \"dotted\",\n    bar_pattern_spacing = 0.0154,\n    columns_alignment = c(0, 0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 2, 0.5, 2),\n    columns_width = column_widths_stand$p1,\n    headers_alignment = c(0, 0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0),\n    default_list = barplot_table_plot_pattern\n  )\n)\n\np_2 <- plot_tablebarplot(\n  dat = dat_prepped_a,\n  bar_est = \"est_2022 - 2015_trend_mean\",\n  bar_label = NULL,\n  bar_sig = \"sig_2022 - 2015_trend_mean\",\n  bar_fill = \"Kgender\",\n  column_spanners = list(\n    \"**Differenz 2022-2015**\" = c(1, 4)\n  ),\n  headers = list(\n    \"*M<sub>2022</sub> - M<sub>2015</sub>*\",\n    \"*(SE)*\",\n    \"*d*\",\n    \" \"\n  ),\n  columns_table = c(\n    \"est_2022 - 2015_trend_mean\",\n    \"se_2022 - 2015_trend_mean\",\n    \"es_2022 - 2015_trend_mean\"\n  ),\n  columns_table_se = list(NULL, \"se_2022 - 2015_trend_mean\", NULL),\n  columns_table_sig_bold = list(\n    \"sig_2022 - 2015_trend_mean\",\n    NULL,\n    \"sig_2022 - 2015_trend_mean\"\n  ),\n  columns_table_sig_superscript = list(\n    \"sig_2022 - 2015_trend_crossDiffTotal_mean\",\n    NULL,\n    NULL\n  ),\n  y_axis = \"y_axis\",\n  columns_round = c(0, 0, 2),\n  plot_settings = plotsettings_tablebarplot(\n    axis_x_lims = c(-40, 5),\n    bar_background_lines = \"scale_breaks\",\n    bar_background_lines_linetype = \"dotted\",\n    background_stripes_colour = c(rep(c(\"white\", \"white\", \"#EBFDF3\", \"#EBFDF3\"), 8), \"grey\", \"grey\"),\n    bar_fill_colour = c(\"#20D479\", \"#8DEBBC\"),\n    bar_pattern_spacing = 0.0346,\n    columns_alignment = c(rep(0.5, 2), 2),\n    columns_width = column_widths_stand$p2,\n    headers_alignment = c(0.5, 0.5, 0.5, 0),\n    default_list = barplot_table_plot_pattern\n  )\n)\n\nbar_pattern_spacing_stand <- standardize_pattern_spacing(list(p_1, p_2), pattern_spacing = 0.05)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntableplot_6.6 <- combine_plots(list(p_1, p_2))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsave_plot(tableplot_6.6, filename = \"C:/Users/hafiznij/Downloads/abb6_6_workshop.pdf\", width = 320)\n```\n:::\n\n\n\n\n## Plot-Erstellung\n\n## Plot-Settings\n\n\n## Schleife\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_plot_6.6 <- function(plot_dat){\n  ## Plot-Erstellung hier rein\n  p_1 <- plot_tablebarplot(\n  dat = plot_dat\n  ## , ...\n  )\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplots_6.6 <- lapply(eatRep_kb_list, my_plot_6.6 )\n```\n:::\n",
    "supporting": [
      "eatPlot_workshop_slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
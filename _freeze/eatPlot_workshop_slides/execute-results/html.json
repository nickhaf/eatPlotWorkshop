{
  "hash": "57f0af1fbc1a7e03350f6850c03fffe3",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Einführung in eatPlot\"\nauthor: \"Nicklas Hafiz\"\ntitle-slide-attributes:\n  data-background-image: ./images/eatPlot.svg\n  data-background-size: 30%\n  data-background-repeat: no-repeat\n  data-background-position: bottom 30px center\n  data-background-opacity: \"0\"\nformat: \n  letterbox-revealjs:\n    embed-resources: false\n    theme: styles.scss\n    highlight-style: dark.theme\n    code-link: true\n    code-line-numbers: false\necho: true\ncallout-appearance: simple\nlang: de\ncategories: [eatPlot, tutorial, slides, intro]\nimage: ./images/eatPlot.svg\n---\n\n\n\n## Zu diesen Folien\n\nHTML-Folien können durch tippen von `e` in PDF umgewandelt werden, und dann mit Drucken aus dem Browser abgespeichert werden, falls ihr darin kommentieren wollt.\n\n![](./images/print_html.PNG)\n\n##  {background-image=\"images/map.jpg\" background-size=\"1225px\"}\n\n::: {.absolute left=\"10%\" right=\"10%\" top=\"7.5%\" style=\"font-size:1em; padding: 0.5em 0.5em; background-color: rgba(255, 255, 255, .7); backdrop-filter: blur(5px); box-shadow: 0 0 1rem 0 rgba(255, 255, 255, .5); border-radius: 10px\"}\n\n**Roadmap**\n\n1. Einführung\n1. Allgemeiner Workflow\n1. Linienplots\n1. Tabellen/Barplots\n:::\n\n## eatPlot\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# install.packages(\"devtools\")\ndevtools::install_github(\"nickhaf/eatPlot\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(eatPlot)\n```\n:::\n\n\n\n\n- Automatisieren der Grafikerstellung für eatRep-Output (vor allem BT-Grafiken!)\n\n:::{.callout-important}\nDas Paket befindet sich noch in Entwicklung. Die Beispiele in dieser Präsentation sind **vorläufig**, können sich also noch leicht ändern. Ich werde alle Änderungen aber in den [online-Vorlagen](https://nickhaf.github.io/eatPlot/index.html) anpassen. \n:::\n\n\n## Warum?\n\n- Schnell selbst durchführbar\n- Reproduzierbar\n- Vereinfachung der Plot-Erstellung durch [\"Plug-and-Play\"-Vorlagen](https://nickhaf.github.io/eatPlot/)\n- Vereinheitlichung durch Zentrale Vorlagen\n- Einfach Updatebar\n- Weniger fehleranfällig\n\n\n# Allgemeiner Workflow\n\n## Linienplots\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](eatPlot_workshop_slides_files/figure-revealjs/unnamed-chunk-3-1.png){width=960}\n:::\n:::\n\n\n\n## Tabellen/Balkendiagramme\n\n## Datenformat\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(trend_3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nList of 4\n $ plain      :'data.frame':\t6642 obs. of  18 variables:\n  ..$ label1       : chr [1:6642] \"aohneZWH_total for year 2009\" \"aohneZWH_total for year 2009\" \"aohneZWH_total for year 2009\" \"aohneZWH_Baden-Wuerttemberg for year 2009\" ...\n  ..$ label2       : chr [1:6642] \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=total\" \"year=2009: mhg=aohneZWH, TR_BUNDESLAND=Baden-Wuerttemberg\" ...\n  ..$ depVar       : chr [1:6642] \"bista\" \"bista\" \"bista\" \"bista\" ...\n  ..$ modus        : chr [1:6642] \"CONV.mean\" \"CONV.mean\" \"CONV.mean\" \"CONV.mean\" ...\n  ..$ comparison   : chr [1:6642] \"none\" \"none\" \"none\" \"none\" ...\n  ..$ parameter    : chr [1:6642] \"mean\" \"Ncases\" \"sd\" \"mean\" ...\n  ..$ mhg          : chr [1:6642] \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n  ..$ TR_BUNDESLAND: chr [1:6642] \"total\" \"total\" \"total\" \"Baden-Wuerttemberg\" ...\n  ..$ kb           : chr [1:6642] \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n  ..$ spf          : chr [1:6642] \"alle\" \"alle\" \"alle\" \"alle\" ...\n  ..$ year         : chr [1:6642] \"2009\" \"2009\" \"2009\" \"2009\" ...\n  ..$ es           : num [1:6642] NA NA NA NA NA NA NA NA NA NA ...\n  ..$ est          : num [1:6642] 533.4 23722 81.8 543.3 1507 ...\n  ..$ p            : num [1:6642] 0 NA NA 0 NA NA 0 NA NA 0 ...\n  ..$ se           : num [1:6642] 0.797 NA NA 2.668 NA ...\n  ..$ id           : chr [1:6642] \"group_1883\" \"group_1883\" \"group_1883\" \"group_1887\" ...\n  ..$ unit_1       : chr [1:6642] NA NA NA NA ...\n  ..$ unit_2       : chr [1:6642] NA NA NA NA ...\n $ comparisons:'data.frame':\t3852 obs. of  4 variables:\n  ..$ id        : chr [1:3852] \"comp_1\" \"comp_2\" \"comp_3\" \"comp_4\" ...\n  ..$ unit_1    : chr [1:3852] \"group_1883\" \"group_1883\" \"group_1887\" \"group_1887\" ...\n  ..$ unit_2    : chr [1:3852] \"group_2667\" \"group_1887\" \"group_1983\" \"group_2667\" ...\n  ..$ comparison: chr [1:3852] \"crossDiff\" \"crossDiff\" \"crossDiff\" \"crossDiff\" ...\n $ group      :'data.frame':\t306 obs. of  6 variables:\n  ..$ id           : chr [1:306] \"group_1883\" \"group_1887\" \"group_1893\" \"group_1899\" ...\n  ..$ mhg          : chr [1:306] \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n  ..$ TR_BUNDESLAND: chr [1:306] \"total\" \"Baden-Wuerttemberg\" \"Bayern\" \"Berlin\" ...\n  ..$ year         : chr [1:306] \"2009\" \"2009\" \"2009\" \"2009\" ...\n  ..$ kb           : chr [1:306] \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n  ..$ spf          : chr [1:306] \"alle\" \"alle\" \"alle\" \"alle\" ...\n $ estimate   :'data.frame':\t6642 obs. of  7 variables:\n  ..$ id       : chr [1:6642] \"group_1883\" \"group_1883\" \"group_1883\" \"group_1887\" ...\n  ..$ depVar   : chr [1:6642] \"bista\" \"bista\" \"bista\" \"bista\" ...\n  ..$ parameter: chr [1:6642] \"mean\" \"Ncases\" \"sd\" \"mean\" ...\n  ..$ est      : num [1:6642] 533.4 23722 81.8 543.3 1507 ...\n  ..$ se       : num [1:6642] 0.797 NA NA 2.668 NA ...\n  ..$ p        : num [1:6642] 0 NA NA 0 NA NA 0 NA NA 0 ...\n  ..$ es       : num [1:6642] NA NA NA NA NA NA NA NA NA NA ...\n```\n\n\n:::\n:::\n\n\n\n\n## Datenaufbereitung\nEs gibt zwei Prep-Funktionen:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlineplot_prepped <- prep_lineplot(trend_3, subgroup_var = \"mhg\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntableplot_prepped <- prep_tablebarplot(trend_mw, \n                                       subgroup_var = \"geschlecht\",\n                                       comparisons = c(\"none\", \"crossDiff\"))\n```\n:::\n\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(lineplot_prepped)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t612 obs. of  50 variables:\n $ unit                                             : chr  \"group_1883\" \"group_1883\" \"group_1887\" \"group_1887\" ...\n $ mhg                                              : chr  \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n $ TR_BUNDESLAND                                    : chr  \"total\" \"total\" \"Baden-Wuerttemberg\" \"Baden-Wuerttemberg\" ...\n $ year                                             : num  2009 2009 2009 2009 2009 ...\n $ kb                                               : chr  \"hoeren\" \"hoeren\" \"hoeren\" \"hoeren\" ...\n $ spf                                              : chr  \"alle\" \"alle\" \"alle\" \"alle\" ...\n $ subgroup_var                                     : chr  \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" \"aohneZWH\" ...\n $ depVar                                           : chr  \"bista\" \"bista\" \"bista\" \"bista\" ...\n $ parameter                                        : chr  \"mean\" \"mean\" \"mean\" \"mean\" ...\n $ trend                                            : chr  \"2009_2022\" \"2009_2015\" \"2009_2022\" \"2009_2015\" ...\n $ es_comparison_crossDiff_subgroupTotal            : num  NA NA 0.243 0.243 0.224 0.224 0.395 0.395 0.05 0.05 ...\n $ es_comparison_crossDiffTotal                     : num  NA NA 0.121 0.121 0.166 0.166 -0.118 -0.118 -0.39 -0.39 ...\n $ es_comparison_crossDiffTotal_subgroupTotal       : num  NA NA 0.346 0.346 0.396 0.396 0.109 0.109 -0.154 -0.154 ...\n $ es_comparison_none                               : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_comparison_trend                              : num  -0.445 -0.126 -0.373 -0.229 -0.513 -0.173 -0.352 0.022 -0.446 0.139 ...\n $ es_comparison_trend_crossDiff_subgroupTotal      : num  NA NA 2.406 1.041 0.593 ...\n $ es_comparison_trend_crossDiffTotal               : num  NA NA 0.92 -2.605 -0.824 ...\n $ es_comparison_trend_crossDiffTotal_subgroupTotal : num  NA NA 4.068 -1.303 0.852 ...\n $ est_comparison_crossDiff_subgroupTotal           : num  NA NA 20.7 20.7 18.2 ...\n $ est_comparison_crossDiffTotal                    : num  NA NA 9.93 9.93 13.26 ...\n $ est_comparison_crossDiffTotal_subgroupTotal      : num  NA NA 29.6 29.6 33 ...\n $ est_comparison_none                              : num  533 533 543 543 547 ...\n $ est_comparison_trend                             : num  -41.7 -10.9 -36.6 -20.4 -45.6 ...\n $ est_comparison_trend_crossDiff_subgroupTotal     : num  NA NA 21.8 14.09 5.47 ...\n $ est_comparison_trend_crossDiffTotal              : num  NA NA 5.03 -9.53 -3.94 ...\n $ est_comparison_trend_crossDiffTotal_subgroupTotal: num  NA NA 21.35 -6.73 12.38 ...\n $ p_comparison_crossDiff_subgroupTotal             : num  NA NA 0 0 0 0 0 0 0.16 0.16 ...\n $ p_comparison_crossDiffTotal                      : num  NA NA 0 0 0 0 0.001 0.001 0 0 ...\n $ p_comparison_crossDiffTotal_subgroupTotal        : num  NA NA 0 0 0 0 0.001 0.001 0 0 ...\n $ p_comparison_none                                : num  0 0 0 0 0 0 0 0 0 0 ...\n $ p_comparison_trend                               : num  0 0 0 0 0 0.001 0 0.695 0 0.004 ...\n $ p_comparison_trend_crossDiff_subgroupTotal       : num  NA NA 0.004 0.025 0.432 0.957 0.05 0.143 0.501 0.791 ...\n $ p_comparison_trend_crossDiffTotal                : num  NA NA 0.459 0.061 0.53 0.472 0.397 0.016 0.888 0 ...\n $ p_comparison_trend_crossDiffTotal_subgroupTotal  : num  NA NA 0.002 0.183 0.047 0.91 0.001 0.003 0.014 0 ...\n $ se_comparison_crossDiff_subgroupTotal            : num  NA NA 3.54 3.54 2.77 ...\n $ se_comparison_crossDiffTotal                     : num  NA NA 2.79 2.79 2.25 ...\n $ se_comparison_crossDiffTotal_subgroupTotal       : num  NA NA 2.76 2.76 2.22 ...\n $ se_comparison_none                               : num  0.797 0.797 2.668 2.668 2.099 ...\n $ se_comparison_trend                              : num  4.94 3.07 6.65 4.92 6.13 ...\n $ se_comparison_trend_crossDiff_subgroupTotal      : num  NA NA 7.65 6.26 6.97 ...\n $ se_comparison_trend_crossDiffTotal               : num  NA NA 6.78 5.08 6.27 ...\n $ se_comparison_trend_crossDiffTotal_subgroupTotal : num  NA NA 6.75 5.06 6.24 ...\n $ sig_comparison_crossDiff_subgroupTotal           : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_crossDiffTotal                    : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_crossDiffTotal_subgroupTotal      : logi  FALSE FALSE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_none                              : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_trend                             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...\n $ sig_comparison_trend_crossDiff_subgroupTotal     : logi  FALSE FALSE TRUE TRUE FALSE FALSE ...\n $ sig_comparison_trend_crossDiffTotal              : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ sig_comparison_trend_crossDiffTotal_subgroupTotal: logi  FALSE FALSE TRUE FALSE TRUE FALSE ...\n```\n\n\n:::\n:::\n\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(tableplot_prepped)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t85 obs. of  49 variables:\n $ depVar                      : chr  \"bista\" \"bista\" \"bista\" \"bista\" ...\n $ geschlecht                  : chr  \"w\" \"w\" \"w\" \"w\" ...\n $ TR_BUNDESLAND               : chr  \"total\" \"Baden-Wuerttemberg\" \"Bayern\" \"Berlin\" ...\n $ est_2009_none_mean          : num  32 63.2 45.9 27.8 23.6 ...\n $ est_2015_none_mean          : num  37.8 41 25.2 32 33.6 ...\n $ est_2022_none_mean          : num  50.5 29.1 30.3 71 47.8 ...\n $ est_2009_crossDiff_mean     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2015_crossDiff_mean     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2022_crossDiff_mean     : num  NA NA NA NA NA NA NA NA NA NA ...\n $ est_2009_crossDiffTotal_mean: num  NA 43.7 62 39.8 54.2 ...\n $ est_2015_crossDiffTotal_mean: num  NA 44.4 42.1 43.5 50.4 ...\n $ est_2022_crossDiffTotal_mean: num  NA 38.8 47 38.3 31.5 ...\n $ se_2009_none_mean           : num  0.797 2.668 2.099 2.883 2.308 ...\n $ se_2015_none_mean           : num  0.992 3.04 2.733 3.322 2.549 ...\n $ se_2022_none_mean           : num  1.06 3.8 3.24 3.6 3.17 ...\n $ se_2009_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2015_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2022_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ se_2009_crossDiffTotal_mean : num  NA 2.79 2.25 2.99 2.44 ...\n $ se_2015_crossDiffTotal_mean : num  NA 3.2 2.91 3.47 2.73 ...\n $ se_2022_crossDiffTotal_mean : num  NA 3.94 3.41 3.76 3.35 ...\n $ es_2009_none_mean           : num  -0.372 -1.495 0.36 0.694 -0.522 ...\n $ es_2015_none_mean           : num  0.749 0.459 -0.807 0.24 0.357 ...\n $ es_2022_none_mean           : num  0.487 0.605 -0.192 -0.536 1.106 ...\n $ es_2009_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2015_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2022_crossDiff_mean      : num  NA NA NA NA NA NA NA NA NA NA ...\n $ es_2009_crossDiffTotal_mean : num  NA -0.991 0.161 -0.482 0.71 ...\n $ es_2015_crossDiffTotal_mean : num  NA 0.198 0.104 -1.331 0.203 ...\n $ es_2022_crossDiffTotal_mean : num  NA -0.234 0.615 -0.133 0.784 ...\n $ sig_2009_none_mean          : logi  FALSE TRUE TRUE FALSE FALSE FALSE ...\n $ sig_2015_none_mean          : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ sig_2022_none_mean          : logi  FALSE FALSE FALSE FALSE FALSE FALSE ...\n $ sig_2009_crossDiff_mean     : logi  NA NA NA NA NA NA ...\n $ sig_2015_crossDiff_mean     : logi  NA NA NA NA NA NA ...\n $ sig_2022_crossDiff_mean     : logi  NA NA NA NA NA NA ...\n $ sig_2009_crossDiffTotal_mean: logi  NA FALSE TRUE TRUE FALSE FALSE ...\n $ sig_2015_crossDiffTotal_mean: logi  NA FALSE FALSE FALSE FALSE FALSE ...\n $ sig_2022_crossDiffTotal_mean: logi  NA FALSE FALSE FALSE FALSE FALSE ...\n $ p_2009_none_mean            : num  0.0766 0.0398 0.0408 0.5275 0.1505 ...\n $ p_2015_none_mean            : num  0.154 0.232 0.35 0.27 0.223 ...\n $ p_2022_none_mean            : num  0.104 0.0835 0.3648 0.1522 0.0518 ...\n $ p_2009_crossDiff_mean       : num  NA NA NA NA NA NA NA NA NA NA ...\n $ p_2015_crossDiff_mean       : num  NA NA NA NA NA NA NA NA NA NA ...\n $ p_2022_crossDiff_mean       : num  NA NA NA NA NA NA NA NA NA NA ...\n $ p_2009_crossDiffTotal_mean  : num  NA 0.1776 0.0211 0.0474 0.481 ...\n $ p_2015_crossDiffTotal_mean  : num  NA 0.302 0.14 0.431 0.605 ...\n $ p_2022_crossDiffTotal_mean  : num  NA 0.2634 0.0822 0.14 0.4469 ...\n $ y_axis                      : int  1 2 3 4 5 6 7 8 9 10 ...\n```\n\n\n:::\n:::\n\n\n\n## Ploterstellung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_lineplot()\nplot_tablebarplot()\n```\n:::\n\n\n\n\n## Plot settings\n\n- Einstellungen zum Aussehen der Plots werden so vorgenommen:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplotsettings_lineplot()\nplotsettings_tablebarplot()\n```\n:::\n\n\n\n## Plot settings\n\nEs gibt dabei voreingestellte Setting-Objekte, die genutzt werden können:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplotsettings_lineplot(default_list = lineplot_4x4)\n```\n:::\n\n\n\n\n# Linienplots\n\n\n## Datenaufbereitung\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_dat <- readRDS(\"I:/Methoden/02_IQB-interne_eat_Workshops/eatRep_2024/Beispieloutputs/04_meansAufbereitet.rds\")\n```\n:::\n\n\n\nWir möchten einen [Linienplot für eine Gruppe](https://nickhaf.github.io/eatPlot/articles/lineplots.html#lineplot-one-group) erstellen. \n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_lineplot_1 <- prep_lineplot(\n  trend_dat\n)\n\ndat_lineplot_1 <- process_bundesland(dat_lineplot_1)\n```\n:::\n\n\n\n\n## Plot-Erstellung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlineplot_1_w <- plot_lineplot(\n  dat_lineplot_1,\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  plot_settings = plotsettings_lineplot(default_list = lineplot_4x4)\n)\n```\n:::\n\n\n\n## Abspeichern\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsave_plot(lineplot_1_w, filename = \"C:/Users/hafiznij/Downloads/lineplot_1_group_workshop.pdf\")\n```\n:::\n\n\n\n## Plot-Settings\n\n## Mehrere Kompetenzbereiche\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot_my_lineplot <- function(plot_dat){\n\nlineplot_1_w <- plot_lineplot(\n  trend_p,\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  box_facet = \"Berlin\",\n  background_subgroup = \"total\",\n  title_superscripts = list(\n    \"Bayern\" = \"a\",\n    \"Thüringen\" = \"3\"),\n  plot_settings = plotsettings_lineplot(default_list = lineplot_4x4)\n)\n\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplots_6.6 <- lapply(eatRep_kb_list, plot_my_lineplot )\n```\n:::\n\n\n\n## Zwei Gruppen\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_dat_geschlecht <- readRDS(\"I:/Methoden/02_IQB-interne_eat_Workshops/eatRep_2024/Beispieloutputs/disp_geschlecht.rds\")\n\ntrend_3_prepped <- prep_lineplot(\n  trend_dat_geschlecht,\n  subgroup_var = \"Kgender\"\n)\n\ntrend_3_prepped$TR_BUNDESLAND <- gsub(\"ue\", \"ü\", trend_3_prepped$TR_BUNDESLAND)\n\nlineplot_2 <- plot_lineplot(\n  trend_3_prepped,\n  point_sig = \"sig_comparison_crossDiffTotal_subgroupTotal\",\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  background_subgroup = \"total\",\n  plot_settings = plotsettings_lineplot(split_plot = FALSE, default_list = lineplot_4x4)\n)\n```\n:::\n\n\n\n\n# Tabellen/Barplots\n\n## Datenaufbereitung\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_dat_geschlecht <- readRDS(\"I:/Methoden/02_IQB-interne_eat_Workshops/eatRep_2024/Beispieloutputs/disp_geschlecht.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntrend_3_prepped <- prep_lineplot(\n  trend_dat_geschlecht,\n  subgroup_var = \"Kgender\"\n)\n\n\ntrend_3_prepped$TR_BUNDESLAND <- gsub(\"ue\", \"ü\", trend_3_prepped$TR_BUNDESLAND)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlineplot_2 <- plot_lineplot(\n  trend_3_prepped,\n  point_sig = \"sig_comparison_crossDiffTotal_subgroupTotal\",\n  years_lines = list(c(2009, 2015), c(2015, 2022)),\n  years_braces = list(c(2009, 2015), c(2015, 2022)),\n  background_subgroup = \"total\",\n  plot_settings = plotsettings_lineplot(split_plot = FALSE, default_list = lineplot_4x4)\n)\n```\n:::\n\n\n\n\n## Datenaufbereitung\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmw_sub <- trend_mw\n\ndat_prepped <- prep_tablebarplot(\n  trend_dat_geschlecht,\n  subgroup_var = \"Kgender\",\n  par = c(\"mean\", \"sd\"),\n  facet_var = \"TR_BUNDESLAND\",\n  total_facet = \"total\",\n  comparisons = c(\"none\", \"trend\", \"trend_crossDiff\")\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndat_prepped <- subset(dat_prepped, Kgender %in% c(\"maennlich\", \"weiblich\"))\ndat_prepped$Kgender <- gsub(\"maennlich\", \"Jungen\", dat_prepped$Kgender)\ndat_prepped$Kgender <- gsub(\"weiblich\", \"Mädchen\", dat_prepped$Kgender)\n\ndat_prepped_a <- dat_prepped[order(dat_prepped$TR_BUNDESLAND), ]\n\ndat_prepped_a$TR_BUNDESLAND[duplicated(dat_prepped_a$TR_BUNDESLAND)] <- \" \"\ndat_prepped_a$TR_BUNDESLAND <- gsub(\"total\", \"Deutschland\", dat_prepped_a$TR_BUNDESLAND)\ndat_prepped_a$TR_BUNDESLAND <- gsub(\"ue\", \"ü\", dat_prepped_a$TR_BUNDESLAND)\n\n\ncolumn_widths_stand <- standardize_column_width(\n  column_widths = list(\n    p1 = c(0.1, rep(0.04, 7), 0.05, rep(0.04, 2), NA),\n    p2 = c(0.05, rep(0.04, 2), NA)\n  ),\n  plot_ranges = c(60, 45) # Range of the x-axes of both plots set in 'axis_x_lims'.\n)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\np_1 <- plot_tablebarplot(\n  dat = dat_prepped_a,\n  bar_est = \"est_2015 - 2009_trend_mean\",\n  bar_label = NULL,\n  bar_sig = \"sig_2015 - 2009_trend_mean\",\n  bar_fill = \"Kgender\",\n  y_axis = \"y_axis\",\n  column_spanners = list(\n    \"**2009**<sup>a</sup>\" = c(3, 4),\n    \"**2015**<sup>a</sup>\" = c(5, 6),\n    \"**2022**<sup>a</sup>\" = c(7, 8),\n    \"**Differenz 2015-2009<sup>a</sup>**\" = c(9, 12)\n  ),\n  columns_table_se = list(NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, \"se_2015 - 2009_trend_mean\", NULL),\n  headers = list(\n    \"**Land**\",\n    \" \",\n    \"*M*\",\n    \"*SD*\",\n    \"*M*\",\n    \"*SD*\",\n    \"*M*\",\n    \"*SD*\",\n    \"*M<sub>2015</sub> - M<sub>2009</sub>*\",\n    \"*(SE)*\",\n    \"*d*\",\n    \" \"\n  ),\n  columns_table = c(\n    \"TR_BUNDESLAND\",\n    \"Kgender\",\n    \"est_2009_none_mean\",\n    \"est_2009_none_sd\",\n    \"est_2015_none_mean\",\n    \"est_2015_none_sd\",\n    \"est_2022_none_mean\",\n    \"est_2022_none_sd\",\n    \"est_2015 - 2009_trend_mean\",\n    \"se_2015 - 2009_trend_mean\",\n    \"es_2015 - 2009_trend_mean\"\n  ),\n  columns_table_sig_bold = list(\n    NULL,\n    NULL,\n    \"sig_2009_none_mean\",\n    NULL,\n    \"sig_2015_none_mean\",\n    NULL,\n    \"sig_2022_none_mean\",\n    NULL,\n    \"sig_2015 - 2009_trend_mean\",\n    NULL,\n    \"sig_2015 - 2009_trend_mean\"\n  ),\n  columns_table_sig_superscript = list(\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    NULL,\n    \"sig_2015 - 2009_trend_crossDiffTotal_mean\",\n    NULL,\n    NULL\n  ),\n  columns_round = c(rep(0, 10), 2),\n  plot_settings = plotsettings_tablebarplot(\n    axis_x_lims = c(-30, 30),\n    background_stripes_colour = c(rep(c(\"white\", \"white\", \"#EBFDF3\", \"#EBFDF3\"), 8), \"grey\", \"grey\"),\n    bar_fill_colour = c(\"#20D479\", \"#8DEBBC\"),\n    bar_background_lines = \"scale_breaks\",\n    bar_background_lines_linetype = \"dotted\",\n    bar_pattern_spacing = 0.0154,\n    columns_alignment = c(0, 0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 2, 0.5, 2),\n    columns_width = column_widths_stand$p1,\n    headers_alignment = c(0, 0, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0),\n    default_list = barplot_table_plot_pattern\n  )\n)\n\np_2 <- plot_tablebarplot(\n  dat = dat_prepped_a,\n  bar_est = \"est_2022 - 2015_trend_mean\",\n  bar_label = NULL,\n  bar_sig = \"sig_2022 - 2015_trend_mean\",\n  bar_fill = \"Kgender\",\n  column_spanners = list(\n    \"**Differenz 2022-2015**\" = c(1, 4)\n  ),\n  headers = list(\n    \"*M<sub>2022</sub> - M<sub>2015</sub>*\",\n    \"*(SE)*\",\n    \"*d*\",\n    \" \"\n  ),\n  columns_table = c(\n    \"est_2022 - 2015_trend_mean\",\n    \"se_2022 - 2015_trend_mean\",\n    \"es_2022 - 2015_trend_mean\"\n  ),\n  columns_table_se = list(NULL, \"se_2022 - 2015_trend_mean\", NULL),\n  columns_table_sig_bold = list(\n    \"sig_2022 - 2015_trend_mean\",\n    NULL,\n    \"sig_2022 - 2015_trend_mean\"\n  ),\n  columns_table_sig_superscript = list(\n    \"sig_2022 - 2015_trend_crossDiffTotal_mean\",\n    NULL,\n    NULL\n  ),\n  y_axis = \"y_axis\",\n  columns_round = c(0, 0, 2),\n  plot_settings = plotsettings_tablebarplot(\n    axis_x_lims = c(-40, 5),\n    bar_background_lines = \"scale_breaks\",\n    bar_background_lines_linetype = \"dotted\",\n    background_stripes_colour = c(rep(c(\"white\", \"white\", \"#EBFDF3\", \"#EBFDF3\"), 8), \"grey\", \"grey\"),\n    bar_fill_colour = c(\"#20D479\", \"#8DEBBC\"),\n    bar_pattern_spacing = 0.0346,\n    columns_alignment = c(rep(0.5, 2), 2),\n    columns_width = column_widths_stand$p2,\n    headers_alignment = c(0.5, 0.5, 0.5, 0),\n    default_list = barplot_table_plot_pattern\n  )\n)\n\nbar_pattern_spacing_stand <- standardize_pattern_spacing(list(p_1, p_2), pattern_spacing = 0.05)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntableplot_6.6 <- combine_plots(list(p_1, p_2))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsave_plot(tableplot_6.6, filename = \"C:/Users/hafiznij/Downloads/abb6_6_workshop.pdf\", width = 320)\n```\n:::\n\n\n\n\n## Plot-Erstellung\n\n## Plot-Settings\n\n## Kleines Markdown/HTML-1x1\n\n- **Das ist mein fettgedruckter Text**: `**Das ist mein fettgedruckter Text**`\n- *Das ist mein Kursiver Text*: `*Das ist mein Kursiver Text*`\n- Hochgestelltes<sup>a</sup>: `Hochgestelltes<sup>a</sup>`\n- Tiefgestelltes<sub>yaay</sub>: `Tiefgestelltes<sub>yaay</sub>`\n\n\n## Schleife\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_plot_6.6 <- function(plot_dat){\n  ## Plot-Erstellung hier rein\n  p_1 <- plot_tablebarplot(\n  dat = plot_dat\n  ## , ...\n  )\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nplots_6.6 <- lapply(eatRep_kb_list, my_plot_6.6 )\n```\n:::\n",
    "supporting": [
      "eatPlot_workshop_slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}